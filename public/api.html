<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API SERVER</title>
</head>

<body>
    
    <h1>API SERVER</h1>
    <h3>Chú ý: Với các hành động liên quan đến quản lý salon như thêm nhân viên, thêm xe,... của salon - các hành động cần quyền
        thì mới có thể làm được với salon thì cần gửi đi salonId. Vì cần thông tin này thì mới xác định được chính xác người đó có quyền gì.
    </h3>
    <h2>AUTH</h2>
    <li>[POST] /auth/refresh</li>
    Cần truyền refreshToken vô bằng cookies - web or body - mobile để nhận lại token mới.
    <li>[POST] /auth/logout</li>
    Không cần truyền gì hết, trực tiếp logout.
    <li>[POST] /auth/register</li>
    Đăng kí tài khoản bằng username và password. Cần truyền vô username, password, fullname. Cần truyền vô body.
    <li>[POST] /auth/login</li>
    Đăng nhập bằng username và password. Truyền vô Db.
    <li>[GET] /auth/google</li>
    [WEB]: Gọi đến router này và server sẽ redirect về một trang html để chọn tài khoản google.
    [MOBILE]: Tiến hành tự gọi đến api của google để chọn tài khoản google.
    Toàn bộ sẽ nhận được một mã code và cần truyền mã code này đến callback.
    <li>[GET] /auth/google/callback</li>
    Sau khi nhận mã code ở trên thì cần gửi vào api này với cách truyền thêm ?code=...
    <li>[GET] /auth/facebook</li>
    Tương tự với google. Nhưng cần add tài khoản để thử nghiệm.
    <li>[GET] /auth/facebook/callback</li>
    Tương tự như trên.
    
    <h3>FACEBOOK MOBILE</h3>
    <li>[POST] /auth/facebook-mobile</li>
    Cần truyền vô accesstoken. Về liên kết tài khoản thì cũng gọi đến router này luôn. Và không cần truyền gì thêm chỉ truyền accesstoken
    của account mới cần liên kết với nó (account cần liên kết không phải account đang login).
    <li>[POST] /auth/change-pw</li>
    Thay đổi password or là cập nhật password lúc đầu khi người dùng lần đầu tiên được mời vô hệ thống bằng mail. Nếu là mời vào bằng mail thì cần set:
    {newPassword}. Còn nếu là cập nhật password thì cần truyền vô {oldPassword, newPassword};
    <li>[POST] /auth/forgot-pw</li>
    Quên mật khẩu và muốn lấy mật khẩu mới. Cần nhập vô email. Server sẽ gửi 1 mã gồm 6 chữ số đến mail đó. Client cần chuyển sang màn hình nhập 6 kí tự.
    <li>[POST] /auth/verify-forgot-pw</li>
    Đây là bước xác thực thứ 2. Yêu cầu gửi mã code trong mail của người dùng. cụ thể gửi các thông tin :
    {email, code}. Nếu server xác nhận là đúng code rồi thì server sẽ trả về một mã code mới nhằm phục vụ đổi password mới. 
    Và client cần chuyển sang màn hình
    nhập password mới cho user.
    <li>[POST] /auth/renew-forgot-pw</li>
    Đây là bước xác thực cuối cùng. Yêu cầu gửi:
    {code: mã code server gửi về cho client lúc trước, email: email của user, newPassword: mật khẩu mới}. Nếu thành công thì client cần chuyển sang trang đăng 
    nhập cho user.

    <h2>PROFILE</h2>
    <li>[GET] /users/profile</li>
    Chỉ cần login thành công và gọi tới là lấy được profile của user.
    <li>[PATCH] /users/profile</li>
    Đây là cập nhật thông tin profile.
    Lưu ý cần truyền vào các thuộc tính giống với thông tin trong DB của bảng User.
    Các fields bao gồm: fullname, gender, phone, address, date_of_birth, avatar. Muốn update cái nào thì truyền cái đó
    Không cần truyền vào user_id vì khi login thành công, đã có token chứa user_id bên trong header.
    <h2>PAYMENT</h2>
    <li>[POST] /payment/createOrder</li>
    Tạo đơn hàng. Chúng ta cần lưu lại app_tran_id để query đơn hàng khi cần.
    Nếu không truyền vào dữ liệu gì thì mặt định là zalopay app và đơn hàng sẽ mang giá trị 0đ. Nếu muốn chuyển sang
    visa thì cần thêm
    dữ liệu là {"bank_code": "CC", ... thêm amount: number, description nếu muốn}.
    <li>[POST] /payment/queryOrder</li>
    Đây là dùng để query trạng thái đơn hàng đã được thanh toán chưa. Cần truyền vô {"app_trans_id": "mã đơn hàng "}.
    <h3>VN PAY</h3>
    <li>[POST] /payment/create_payment_url</li>
    Cần truyền vô id của gói mà muốn mua {package_id : "id", months: number}. Để gọi được thì người dùng cần phải login thành công.
    Sẽ nhận lại một url, cần mở link lên trong trình duyệt và thực hiện nhập thông tin thanh toán.
    Chọn ngân hàng nội quốc và thông tin thẻ như sau:
    <table>
        <tr>
            <th>Ngân hàng</th>
            <td>NCB</td>
        </tr>
        <tr>
            <th>Số thẻ</th>
            <td>9704198526191432198</td>
        </tr>
        <tr>
            <th>Tên chủ thẻ</th>
            <td>NGUYEN VAN A</td>
        </tr>
        <tr>
            <th>Ngày phát hành</th>
            <td>07/15</td>
        </tr>
        <tr>
            <th>Mật khẩu OTP</th>
            <td>123456</td>
        </tr>
    </table>
    Thanh toán thành công thì sẽ được redirect đến localhost:3000/payment/vnpay?rs=success& ...với chuỗi thì cần giải mã để ra chuỗi đúng.
    Cần hiển thị lại cho người dùng là thanh toán thành công và thông tin đã thanh toán.
    Thất bại thì  localhost:3000/payment/vnpay?rs=failed
    Bên web chú ý tạo thêm router để nhận và hiển thị hoặc thông báo nhé.
    
    <h2>FEATURE</h2>
    <li>[GET] /features</li>
    Lấy được hết tất cả những tính năng
    <li>[GET] /features/:id</li>
    Lấy được tính năng khi biết id
    <li>[POST] /features</li>
    Thêm một tính năng mới. Các fields truyền vào bao gồm: name, description
    <li>[PATCH] /features/:id</li>
    Sửa một tính năng khi biết id. Các fields có thể sửa: name, description
    <li>[DELETE] /features/:id</li>
    Xóa tính năng khi biết id

    <h2>PACKAGE</h2>
    <li>[GET] /packages</li>
    Lấy được hết tất cả các gói dịch vụ kèm theo tính năng mà gói dịch vụ đó có
    <li>[GET] /packages/:id</li>
    Lấy được gói dịch vụ khi biết id
    <li>[POST] /packages</li>
    Truyền ở dạng form-data
    Thêm một gói dịch vụ mới. Các fields truyền vào bao gồm: name, description, price, features (là một mảng (array) id
    các tính năng), image (1 file). Nếu price < 0 thì sẽ báo lỗi
    <li>[PATCH] /packages/:id</li>
    Truyền ở dạng form-data
    Sửa một tính năng khi biết id. Các fields (giống post), muốn update cái nào thì truyền cái đó (Nếu price < 0 thì
    sẽ báo lỗi)
    <li>[DELETE] /packages/:id</li>
    Xóa gói dịch vụ khi biết id

    <h2>CAR</h2>
    <li>[GET] /cars</li>
    Lấy được hết tất cả các xe kèm theo tên và địa chỉ salon mà xe đó thuộc về
    <li>[GET] /cars/:id</li>
    Lấy được xe khi biết id
    <li>[GET] /cars/brand/:brand/salon/:salon_id</li>
    Lấy được hết tất cả xe của cùng hãng xem truyền vào tên hãng trong 1 salon
    <li>[POST] /cars</li>
    Truyền ở dạng form-data
    Thêm một xe mới. Các fields truyền vào bao gồm: name (Tên xe), description (Mô tả), origin (Xuất xứ), price
    (Giá), brand (Hãng xe), model (Mẫu mã xe), type (Dòng xe), capacity (Dung tích xe), door (Số cửa), seat (Số
    ghế ngồi), kilometer (Số km đã đi), gear (Hộp số), mfg (Năm sản xuất), inColor (Màu nội thất), outColor (Màu
    ngoại thất), salonSalonId (Id Salon mà xe này thuộc về), image (tối đa là 5 file). Nếu price < 0 thì sẽ báo
    lỗi
    <li>[PATCH] /cars/:id</li>
    Truyền ở dạng form-data
    Sửa thông tin xe khi biết id. Các fields (giống post), muốn update cái nào thì truyền cái đó (Nếu price
    < 0 thì sẽ báo lỗi)
    <li>[DELETE] /cars/:id</li>
    Xóa xe khi biết id

    <h2>SALON</h2>
    <li>[GET] /salons</li>
    Lấy được hết tất cả các thông tin của salon
    <li>[GET] /salons/my-salon</li>
    Lấy được thông tin salon của user đang đăng nhập và các xe mà salon đó có
    <li>[GET] /salons/:id</li>
    Lấy được thông tin salon khi biết id và các xe mà salon đó có
    <li>[POST] /salons</li>
    Truyền ở dạng form-data
    Thêm một salon mới. Các fields truyền vào bao gồm: name, address, image (1 file), email,
    phoneNumber, banner (tối đa 5 file), introductionHtml, introductionMarkdown
    <li>[PATCH] /salons/:id</li>
    Truyền ở dạng form-data
    Sửa một salon khi biết id. Các fields (giống post), muốn update cái nào thì truyền cái đó
    <li>[DELETE] /salons/:id</li>
    Xóa salon khi biết id
    <li>[POST] /salons/invite</li>
    Cần đăng nhập để mời người dùng join vào group của mình (tương lai). Cần truyền vô email của người cần mời vào body.
    Người được mời cần vô mail kích vào đường dẫn để đi đến xác thực. Hệ thống sẽ tự động thêm tài khoản mới cho người
    đó nếu chưa có tài khoản.
    Username là email và password sẽ tự động được gửi vào email sau khi người dùng ấn liên kết.
    <li>[GET] /salons/verify-invite/:token</li>
    Bên web sẽ cần lấy ra token khi người dùng ấn liên kết trong email khi được mời. Web cần xử lý và gửi token về cho
    server để xác nhận. Phía server sẽ trả về token đăng nhập thành công. Frontend cần chuyển vô trang bắt user đổi password mới rồi mới cho truy cập tiếp. Và tiếp theo hãy 
    hướng đến api change password ở auth.
    <li>[POST] /salons/verifyInviteUser</li>
    Người dùng vô xác nhận lời mời vô salon. Cần truyền vô token (lưu tại data) được lưu trữ trong notification có types là invite. Muốn huỷ thì gọi
    đến api xóa thông báo đó là được.

    <h2>PURCHASE</h2>
    <li>[GET] /purchase</li>
    Cho biết user đã mua được những gói dịch vụ nào rồi và các chức năng có trong gói đó. Cái tính năng bây giờ có
    thêm cái keyMap để mình có thể dựa vào đó để render ra các tính năng tương ứng cho user sử dụng. Cái id nó generate ra
    ngẫu nhiên nên không dùng được

    <h2>Lịch hẹn</h2>
    <h3>User: Cần đăng nhập thành công.</h3>
    <li>[POST] /appointment/create-appointment</li>
    cần truyền vô các thông tin: { "salonId": "6f15ea80-b5b5-4546-8cb3-08d3f6c45445","date": "2024-03-22 14:01:06.913+07","description": "lich hen voi salon 2", "carId": "id car"}
    <li>[POST] /appointment/get-appoint-user</li>
    không truyền = get all.
    truyền vô id = get theo id.
    truyền vô status: number = get theo status
    <li>[PATCH] /appointment/update-one-user</li>
    truyền vô id, và thông tin cần update như description, Không thể update status và date.
    <li>[DELETE] /appointment/delete-appoint-user</li>
    <div>
        <b>Lưu ý: phương thức delete có đặc thù là bỏ hết vô biến data thì mới truyền bằng body được.</b>
    </div>
    không truyền gì: xóa tất cả.
	truyền vô id: xóa lịch hẹn theo id đó.
    <div>
        <b>status: 0 - chưa chấp nhận | </b>
        <b>status: 1 - đã được chấp nhận| </b>
        <b>status: 2 - bị salon từ chối gặp</b>
    </div>


    <h3>Salon admin: cần đăng nhập thành công và là admin của group đó. Luôn phải truyền vào salonId.</h3>
    <li>[POST] /appointment/get-appoint-admin</li>
    Không truyền thêm = lấy tất cả cuộc hẹn.
	Truyền thêm id = lấy cuộc hẹn có id đó.
    <li>[PATCH] /appointment/update-one-admin</li>
    cần truyền thêm id của cuộc hẹn. Chỉ có thể update status: 1 2. bên fe sẽ xử lý tùy theo yêu cầu mà truyền vô.
    <li>[DELETE] /appointment/delete-appoint-admin</li>
    <div>
        <b>Lưu ý: phương thức delete có đặc thù là bỏ hết vô biến data thì mới truyền bằng body được.</b>
    </div>
    không truyền gì thêm: xóa hết.
	truyền thêm id: xóa cuộc hẹn đó.

    <li>[POST] /appointment/get-busy-car</li>
    lấy ra thời gian mà xe đã được hẹn. Dùng để ẩn đi các khung thời gian này với khách hàng, tránh khách hàng hẹn trùng giờ nhau. Bên client cần chuyển
    sang khung giờ phù hợp. 
    <div>Yêu cầu truyền vô {salonId, carId}</div> Và chỉ cần user đăng nhập là có thể lấy được.

    <h2>CHAT</h2>
    <b>Có 2 event: getOnlineUsers, newMessage</b>
    <h4 style="font-weight: 500;">Khi bên Frontend kết nối với socket thì trước đó tụi ông cần gọi API này 
    <b>http://localhost:5000/salons/salonId</b> để biết xem thằng user đang đăng nhập đó có phải là chủ salon không. Nếu
    trả về salonId !== null nghĩa là nó là chủ salon thì chỗ query tụi ông truyền vào cho tui thêm cái salonId đó nữa, còn nếu là null thì chỉ truyền qua user_id thôi. Mục đích của việc này là để biết được
    thằng nào đang online mà hiển thị trạng thái và xử lý cho phần thông báo.
    <h4 style="font-weight: 500;">Đây là code bên web:</h4>
    <pre>
        if(res.data.salonId === null){
            socket = io("http://localhost:5000", {
            query: {
              userId:profile.user_id
            }
          });
        }else{
          socket = io("http://localhost:5000", {
            query: {
              userId: profile.user_id,
              salonId : res.data.salonId
            }
          });
        }
    </pre>
    <li>[GET] /messages/chatting-users </li>
    Nó sẽ lấy được những thông tin user mà mình đã chat có thể là hoa tiêu hoặc salon (Cái hoa tiêu giờ tạm thời nó vẫn là user), tui có thêm một cái nữa là lấy được tin nhắn cuối cùng mà nó đã nhắn cho thằng đó kèm theo thời gian (còn ngày tháng năm thì tui sẽ xử lý sau). Tụi ông dựa vào đây để nó cập nhật lại cái user bên thanh sidebar.
    Nếu tin nhắn cuối cùng mà thằng user đang đăng nhập gửi thì nó sẽ ghi là bạn như messenger, còn không thì nó là rỗng
    <h4 style="font-weight: 500;">Trả về như sau:</h4>
    <pre>
    {
        "status": "success",
        "chattingUsers": [
            {
                "id": "d44bedce-4033-4831-b172-ac8fccfa627b",
                "name": "nguyentest2",
                "username": "nguyentest1",
                "image": "https://avatar.iran.liara.run/username?username=nguyentest1",
                "message": {
                    "sender": "Bạn",
                    "message": "Xin chao ban",
                    "time": "19:18",
                    "conversation_status": true
                }
            },
            {
                "id": "142ffd35-e0f9-457e-a7e2-725ad5710ec2",
                "name": "nguyen dep trai test",
                "image": "https://res.cloudinary.com/dok6ou3xz/image/upload/v1710493365/salon-car/fqptwtyxpniglnsmhyby.jpg",
                "message": {
                    "sender": "Bạn",
                    "message": "Toi hoi xe lamboghini",
                    "time": "17:18",
                    "conversation_status": false
                }
            }
        ]
    }
    </pre>
    <h4>Giờ nó có thêm 1 cái nữa là cái status của conversation cho biết là thằng đó đã đọc tin hay chưa. Thì lúc gửi mặc định là nó chưa đọc. Nào nó gọi API [GET] /messages/:id nghĩa là nó ấn vào user rồi thì nó mới đọc. Tui để biến đó có kiểu là boolean. Khi chưa đọc thì nó là false, đọc rồi thì nó là true. Thì tụi ông kiểm tra nếu chưa đọc thì cho chữ nó in đậm lên như messenger chẳng hạn. Bên mess nó cũng có thêm cái nữa là giả sử mình đang nhắn tin trực tiếp mà lúc mình nhận được tin nhắn thì nó vẫn hiểu mình chưa đọc, nào mình gõ trên bàn phìm thì nó cập nhật lại mình đọc rồi thì cái này tui chưa làm được (nếu làm theo kiểu cho nó gọi API liên tục thì thấy không ổn)</h4>
    <h4>CHÚ Ý: Tụi ông cứ test là chat giữa 2 user với nhau nhưng lưu ý là đừng chat với thằng làm chủ salon, chỉ chat với salon của nó thôi</h4>
    <h4>Các thông tin lấy bao gồm: id (user_id hoặc salon_id), tên (name), ảnh (image)</h4>
    <li>[GET] /messages/:id </li>
    Sẽ lấy ra được các object message mà giữa user đang đăng nhập và user_id hoặc salon_id truyền vào đó đã chat với nhau, sẽ trả về như sau:
    <pre>
        {
            "message_id": "667eaac1-65f0-4a85-b3ba-725bb8c3cacd",
            "senderId": "b4f61ebe-aed1-4a49-924c-ec54dd38e27c",
            "receiverId": "d44bedce-4033-4831-b172-ac8fccfa627b",
            "message": "Nguyen test",
            "createdAt": "2024-03-24 20:26:03",
            "updatedAt": "2024-03-24 20:26:03"
        },
        {
            ...
        }
    </pre>
    <h4 style="font-weight: 500;">Trong code tui cũng đã có comment lại chỗ chỉ lấy message thôi</h4>
    <li>[POST] /messages/send/:id (id là người nhận)</li>
    Cần truyền vào nội dung của tui nhắn. VD như sau:
    <pre>
        {
            "message": "Nguyen test"
        }
    </pre>

    <h2></h2>
    <h2>Thông báo</h2>
    <h3>User: Cần đăng nhập thành công.</h3>
    <li>[POST] /notification/get-notification-user</li>
    không truyền = get all.
    truyền vô id = get theo id.
    <li>[PATCH] /notification/read-notification-user</li>
    chỉ cần truyền vào id của thông báo đó.
    <li>[DELETE] /notification/delete-notification-user</li>
    <div>
        <b>Lưu ý: phương thức delete có đặc thù là bỏ hết vô biến data thì mới truyền bằng body được.</b>
    </div>
    không truyền gì: xóa tất cả.
	truyền vô id: xóa lịch hẹn theo id đó.

    <h3>Salon admin: cần đăng nhập thành công và là admin của group đó. Luôn phải truyền vào salonId.</h3>
    <li>[POST] /notification/get-notification-admin</li>
    Không truyền thêm = lấy tất cả cuộc hẹn.
	Truyền thêm id = lấy cuộc hẹn có id đó.
    <li>[PATCH] /notification/read-notification-admin</li>
    chỉ cần truyền thêm vào id của thông báo đó.
    <li>[DELETE] /notification/delete-appoint-admin</li>
    <div>
        <b>Lưu ý: phương thức delete có đặc thù là bỏ hết vô biến data thì mới truyền bằng body được.</b>
    </div>
    không truyền gì thêm: xóa hết.
	truyền thêm id: xóa cuộc hẹn đó.
    <b>Socket: </b> 
    Bên client cần lắng nghe (.io) sự kiện "notification" được gửi từ server.
    <h2>VIDEO CALL</h2>
    <li>[GET] /videocall/get-token</li>
    Nhận về token meeting.
    <li>[POST] /videocall/create-meeting</li>
    Tạo meeting, cần truyền vô token và region
    <li>[POST] /videocall/validate-meeting/:meetingId</li>
    cần truyền vô token bằng body và meetingId ở params.
    <b>Url client cần thiết lập là: http://localhost:5000/videocall/</b>
    <h3>ZegoCloud</h3>
    <li>[POST] /videocall/get-token-zegocloud</li>
    Dùng để nhận token. Yêu cần phải đăng nhập.
    
    <h2> Phân quyền</h2>
    Luôn phải truyền vô salonId.
    <li>[POST] /salons/user</li>
    Yêu cầu: là chủ salon. Cần truyền vô salonId. Dùng để lấy ra danh sách tất cả các nhân viên và quyền của họ.
    <li>[POST] /salons/permission</li>
    Yêu cầu: là chủ salon. Dùng để cấp quyền or thu hồi quyền của nhân viên. Cần truyền vô
    <div>
        {"salonId": "id salon", "permission": ["quyền 1", "quyền 2"], "userId": "id user cần cấp quyền."}
    </div>
    <h3>Quy ước kí hiệu quyền:</h3>
    <div>OWNER: chủ salon</div>
    <div>C_X: Cho phép thêm X</div>
    <div>R_X: Cho phép đọc X</div>
    <div>U_X: Cho phép cập nhật X</div>
    <div>D_X: Cho phép xóa X </div>
    <div>Với X là:</div>
    <div>EMP: nhân viên.</div>
    <div>SL: salon</div>
    <div>CAR: xe </div>
    <div>APM: lịch hẹn</div>
    <div>WRT: bảo hành</div>
    <div>MT: bảo dưỡng</div>
    <div>NTF: thông báo</div>

    <h2>--------ADMIN--------</h2>
    <div>tài khoản admin - bên web của chúng ta: </div>
    <div>usernamel: admin-team-salon-oto</div>
    <div>password: admin123abcDEF@@</div>

    <li>[POST] /amin/</li>
    Lấy ra danh sách tất cả các quyền. Yêu cầu phải là admin team - đăng nhập bằng tài khoản admin được cung cấp.
    <li>[POST] /admin/update-permission</li>
    Cập nhật quyền cho toàn bộ hệ thống. Yêu cầu phải là admin team - đăng nhập bằng tài khoản admin được cung cấp. có thể truyền vô như sau:
    <div>
        {
            "method": ["C", "R"],
            "key": "NTTF",
            "name": "Test thoi do"
        }
        muốn thay đổi name or method thì có thể hiệu chỉnh. Nếu muốn bỏ bớt 1 method R_key thì không truyền method đó mà chỉ truyền cái khác. Lưu ý không
        được thay đổi key. Key mới sẽ thành 1 tính năng mới.
    </div>

    <li>[POST]: /admin/logs</li>
    Lấy ra lịch sử hoạt động của salon. Yêu cầu truyền vô salonId, và cần đăng nhập với vai trò là chủ salon. Hiện tại với server đã deploy thì nó không tự sinh
    ra được. Sẽ có hiệu chỉnh sau.

    <h2>CRAWL NEWS</h2>
    Link trang mà tui crawl: <a href="https://lifestyle.znews.vn/oto-xe-may.html">Zing</a>
    (Tui cào dữ liệu ở phần tin mới)
    <div>
        <b>
        Phần này tui đã crawl được rồi. Tui cũng set là cứ 1 ngày nó crawl 1 lần và chỉ crawl những dữ liệu mới. Tụi ông
        dùng link này để gọi API nha:
        </b>
    </div>

    <a href="https://crawl-data-pink.vercel.app/">https://crawl-data-pink.vercel.app/</a>
    
    <li>[GET] /articles </li>
    <div>Nó lấy ra các bài báo gồm:</div>
    <li>id</li>
    <li>thumbnail</li>
    <li>title</li>
    <li>publish (ngày)</li>
    <li>summary (tóm tắt)</li>
    <li>page (số trang)</li>
    <li>perPage (số phần tử mỗi trang)</li>
    <li>total (tổng cộng)</li>
    <li>hasNextPage (có trang tiếp theo không)</li>
    
    <div>
    Tụi ông có thể dùng query string page và perPage để lấy ra số trang và số phần tử mỗi trang mà mình muốn
    </div>
    <b>VD:</b>
    <a href="https://crawl-data-pink.vercel.app/articles?page=2&perPage=4">
        https://crawl-data-pink.vercel.app/articles?page=2&perPage=4
    </a>
    <div>Nếu không truyền vào thì mặc định là lấy ra trang đầu tiên và lấy ra 5 bài</div>
    <li>[GET] /articles/:id </li>
    <div>Sẽ lấy ra nội dung của bài báo đó 
        <b>(Khi hiển thị ngày ra tụi ông lấy cái publish nha, đừng lấy meta.publish)</b>
    </div>
    <b>Có điểm cần chú ý chỗ này là</b> 
    <div>Nhiều khi nó ghi là caption nhưng nó lại là nội dung. Thì chắc tụi ông phải kiểm tra nếu caption nó ngắn thì nó mình hiển thị caption, còn không thì hiển thị giống nội dung
    .Cái này là do trang web nó vậy, có lúc nó kiểu vậy, lúc lại kiểu khác</div>
    <b>VD:</b>
    <div>Link này thì nó có caption rõ ràng:</div>
    <a href="https://lifestyle.znews.vn/tesla-cybertruck-tang-gia-chong-mat-post1469547.html">
        https://lifestyle.znews.vn/tesla-cybertruck-tang-gia-chong-mat-post1469547.html
    </a>
    <div>Còn link này:</div>  
    <a href="https://lifestyle.znews.vn/suzuki-jimny-mo-ban-tai-viet-nam-nhap-nhat-gia-tu-789-trieu-dong-post1469429.html">
        https://lifestyle.znews.vn/suzuki-jimny-mo-ban-tai-viet-nam-nhap-nhat-gia-tu-789-trieu-dong-post1469429.html
    </a>
    <div>
    Mặc dù những chữ trong bài viết đó là caption nhưng thực chất nó là nội dung.
    Nên lúc ban đầu tui cào cũng rất khó(có lúc nội dung nó nằm trong thẻ p, có lúc lại lấy caption làm nội dung), phải xét trường hợp vì nếu không cào thì nó không có nội dung cho bài đó
    </div>

    <div>Ngoài ra thì nó còn có bài có cái heading</div>
    
    <b>VD:</b>
    <a href="https://lifestyle.znews.vn/vinfast-vf-e34-xuat-hien-tai-malaysia-post1469396.html">
        https://lifestyle.znews.vn/vinfast-vf-e34-xuat-hien-tai-malaysia-post1469396.html
    </a>
    <div>
    Thì nó nằm trong thẻ h3 nên in đậm.
    </div>
    <div>
    Cái cuối cùng là tui chỉ cào nội dung và hình ảnh, có nhiều bài báo nó lại có bảng, và biểu đó. Nếu muốn cào thì cũng được nhưng nó hơi khó, và tui sợ cào rồi tụi ông cũng không biết
    phải hiển thị sau. Và nếu sau này nó có kiểu mới thì mình phải if else để cào nếu muốn nên tui tạm thời không cào nó
    </div>

    <div>Chẳng hạn như 2 link này:</div>
    <div>Bảng:</div>
    <a href="https://lifestyle.znews.vn/oto-trung-quoc-lai-thang-lon-o-nuoc-ngoai-post1469258.html">
        https://lifestyle.znews.vn/oto-trung-quoc-lai-thang-lon-o-nuoc-ngoai-post1469258.html
    </a>
    <div>Biểu đồ:</div>
    <a href="https://lifestyle.znews.vn/tuong-lai-nao-cho-nhom-xe-sedan-binh-dan-tai-viet-nam-post1467912.html">
        https://lifestyle.znews.vn/tuong-lai-nao-cho-nhom-xe-sedan-binh-dan-tai-viet-nam-post1467912.html
    </a>
    
    <div>Tui chỉ cào theo format phần lớn bài báo là gồm nội dung, hình ảnh.</div>
    
    <h2> Bảo hành </h2>
    <li>[POST] /warranty/create</li>
    Tạo một gói bảo hành mới. Yêu cầu truyền vô:
    <div>
        {"salonId", "name", "limit_kilometer": number,"months": number, "policy", "carId": Nếu truyền vô id của xe thì xe đó nhận thẳng gói bảo hành đó luôn. Không truyền vô cũng được.}
    </div>

    <li>[POST] /warranty/</li>
    Lấy ra danh sách các gói bảo hành của salon. Cần truyền vô:
    <div>
        {salonId, warrantyId: Nếu truyền vô id gói bảo hành thì sẽ chỉ tìm theo gói đó, không truyền thì tìm tất cả. }
    </div>
    <li>Có thể gọi đến /cars/:id cũng được để xem xe đó đã có liên kết gói bảo hành nào chưa.</li>
    <li>[POST] /warranty/push-warranty</li>
    Dùng để gán cho xe gói bảo hành. yêu cầu truyền vô:
        {warrantyId, carId}
    <li>[PATCH] /warranty/update</li>
    Dùng để cập nhật thông tin gói bảo hành. Truyền vô như sau:
    { "salonId", "newWarranty": {"warranty_id": bắt buộc, "name", "limit_kilometer", "months", "policy", "note", "reuse": boolean - mặc định là true tức là
    cho phép sử dụng lại nhằm mục đích cho phép gán gói bảo hành này cho xe khác, nếu muốn thiết lập gói báo hành này chỉ phục vụ cho chiếc xe
    duy nhất nào đó thì truyền carId và reuse = false, không truyền thì mặc định là true . Lưu ý: truyền vô cái  gì thì cập nhật cái đó chứ không
nhất thiết phải truyền vô hết các thuộc tính trong newWarranty.} }
    <li>[DELETE] /warranty/delete</li>
    Dùng để xóa luôn cả gói bảo hành. Xin lưu ý: Nếu như có xe nào đang liên kết với gói này thì cũng tự động được gỡ bỏ bảo hành với xe đó luôn.
    Truyền vô: {"salonId", "warrantyId"}
    <li>[POST] /warranty/cancel</li>
    Dùng để hủy bỏ liên kết của 1 xe với 1 gói bảo hành. Yêu cầu truyền vô:
    {"salonId", "warrantyId", "carId"}
    <h2></h2>
</body>

</html>